
%% Age-specific Fertility Rates
n = data.n(4:10,:);
n_cf = data.n_cf(4:10,:);

%% Time Path Fertility Rates: Cohort 15-19 - Cohort 45-49
figure(1); clf;
plot(year, n(1,:),'-+','color', [0 0 0.6],...
    'MarkerFaceColor', [0 0 0.6], 'MarkerSize',3,'linewidth',1.5)
hold on;
% Actual
plot(year, n(2,:),'-o','color', [0.90 0.00 0.40],...
    'MarkerFaceColor', [0.90 0.00 0.40], 'MarkerSize',3,'linewidth',1.5)
plot(year, n(3,:),'-s', 'color', [0.8 0.4 0],...
    'MarkerFaceColor', [0.8 0.4 0], 'MarkerSize',3,'linewidth',1.5)
plot(year, n(4,:),'-*', 'color', [0.49 0.18 0.56],...
    'MarkerFaceColor', [0.49 0.18 0.56], 'MarkerSize',3,'linewidth',1.5)
plot(year, n(5,:),'-^', 'color', [0 0.4 0],...
      'MarkerFaceColor',[0 0.4 0], 'MarkerSize',3,'linewidth',1.5)
plot(year, n(6,:),'-d', 'color', [0.30 0.75  0.93],...
    'MarkerFaceColor', [0.30 0.75  0.93], 'MarkerSize',3,'linewidth',1.5)
plot(year, n(7,:),'-<', 'color', [0.64 0.08  0.18],...
    'MarkerFaceColor', [0.64 0.08  0.18], 'MarkerSize',3,'linewidth',1.5)

% Counterfactual
plot(year, n_cf(1,:),':+','color', [0 0 0.6],...
    'MarkerFaceColor', [0 0 0.6], 'MarkerSize',3,'linewidth',2)
plot(year, n_cf(2,:),':o','color', [0.90 0.00 0.40],...
    'MarkerFaceColor', [0.90 0.00 0.40], 'MarkerSize',3,'linewidth',2)
plot(year, n_cf(3,:),':s', 'color', [0.8 0.4 0],...
    'MarkerFaceColor', [0.8 0.4 0], 'MarkerSize',3,'linewidth',2)
plot(year, n_cf(4,:),':*', 'color', [0.49 0.18  0.56],...
    'MarkerFaceColor', [0.49 0.18  0.56], 'MarkerSize',3,'linewidth',2)
plot(year, n_cf(5,:),':^', 'color', [0 0.4 0],...
      'MarkerFaceColor',[0 0.4 0], 'MarkerSize',3,'linewidth',2)
plot(year, n_cf(6,:),':d', 'color', [0.30 0.75  0.93],...
    'MarkerFaceColor', [0.30 0.75  0.93], 'MarkerSize',3,'linewidth',2)
plot(year, n_cf(7,:),':<', 'color', [0.64 0.08  0.18],...
    'MarkerFaceColor', [0.64 0.08  0.18], 'MarkerSize',3,'linewidth',2)

xlabel('Year','Interpreter','latex','FontSize',15)
ylabel('Fertility rate','Interpreter','latex','FontSize',15)
legend('Actual cohort 15','Actual cohort 20','Actual cohort 25',...
       'Actual cohort 30','Actual cohort 35','Actual cohort 40',...
       'Actual cohort 45', 'Counterfactual cohort 15','Counterfactual cohort 20',...
       'Counterfactual cohort 25','Counterfactual cohort 30','Counterfactual cohort 35',...
       'Counterfactual cohort 40','Counterfactual cohort 45','Interpreter','latex',...
       'FontSize',9,'location','northeast','numcolumns',2);

% Auto-formatting for ticks
ylim([0, 0.41]);
set(gca, 'YTickMode', 'auto');
ytickformat('%.2f');
box on;
grid off;
hold off; 
set(gcf, 'WindowStyle', 'normal');
exportgraphics(gcf,"Graphs/ASFR.pdf"); 

 